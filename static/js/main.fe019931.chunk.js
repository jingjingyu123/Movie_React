(this.webpackJsonpprofile=this.webpackJsonpprofile||[]).push([[0],{215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),l=a.n(i),o=(a(82),a(4)),c=a(5),s=a(7),u=a(6),d=(a(83),a(44)),m=a.n(d);console.log(m.a);var v=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"Home"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:m.a})),r.a.createElement("div",{class:"word"},r.a.createElement("h1",null,"About Me"),r.a.createElement("p",null,"Hi, I am Jingjing Yu. I am a third-year computer science student at UCSB. I have experience with web development and android. Outside of CS, I like playing computer games and watching anime.")))}}]),a}(n.Component),h=a(18),p=a(8),b=a(23),f=a.n(b),g={apiKey:"AIzaSyA716GJeqXsYdKC6H1m30FxhVYM7psG33k",authDomain:"myprofile-3a274.firebaseapp.com",databaseURL:"https://myprofile-3a274.firebaseio.com"},y=(a(55),a(34)),E=(a(56),a(32)),j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).openPopupbox=function(t){var a=r.a.createElement("div",null,r.a.createElement("img",{src:t.Poster,alt:"new"}),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"IMDB Rating: "),t.Rating),r.a.createElement("p",null,r.a.createElement("i",null,t.Plot," ")),r.a.createElement("p",null,"Director by ",t.Director),r.a.createElement("select",{onChange:function(a){return e.listSelectHandler(t.movieID,a.target.value)}},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Add to list:"),e.state.list.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("button",{onClick:function(){e.deletionHandler(t.movieID)}},"Delete")));y.PopupboxManager.open({content:a,config:{titleBar:{enable:!0,text:t.Title},onOpen:e.onLightBoxOpen,onClosed:e.onLightBoxClosed}})},e.onLightBoxOpen=function(){document.body.style.overflow="hidden"},e.onLightBoxClosed=function(){document.body.style.overflow="inherit"},e.state={movieID:"",Title:"",Poster:"",Director:"",Rating:"",List:"",visible:8,items:[],list:[]},e.loadmore=e.loadmore.bind(Object(p.a)(e)),e.listSelectHandler=e.listSelectHandler.bind(Object(p.a)(e)),e.searchHandler=e.searchHandler.bind(Object(p.a)(e)),e.deletionHandler=e.deletionHandler.bind(Object(p.a)(e)),e.listSubmissionHandler=e.listSubmissionHandler.bind(Object(p.a)(e)),e.changeListHandler=e.changeListHandler.bind(Object(p.a)(e)),e.changeHandler=e.changeHandler.bind(Object(p.a)(e)),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.database().ref("movies").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({id:r,movieID:a[r].movieID,List:a[r].List,Title:a[r].Title,Poster:a[r].Poster,Director:a[r].Director,Rating:a[r].Rating});e.setState({items:n})})),E.database().ref("lists").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push(a[r]);e.setState({list:n})}))}},{key:"deletionHandler",value:function(e){E.database().ref("movies").child(e).remove()}},{key:"changeListHandler",value:function(e){var t=this,a=e.target.value;E.database().ref("movies").on("value",(function(e){var n=e.val(),r=[];for(var i in n)"All"!=a&&n[i].List!=a||r.push({id:i,movieID:n[i].movieID,Title:n[i].Title,Poster:n[i].Poster,Director:n[i].Director,Rating:n[i].Rating});t.setState({items:r})}))}},{key:"changeHandler",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"listSubmissionHandler",value:function(e){e.preventDefault(),E.database().ref("lists").push(this.state.List)}},{key:"searchHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.Title;E.database().ref("movies").on("value",(function(e){var n=e.val(),r=[];for(var i in n)n[i].Title==a&&r.push({id:i,movieID:n[i].movieID,Title:n[i].Title,Poster:n[i].Poster,Director:n[i].Director,Rating:n[i].Rating});t.setState({items:r})}))}},{key:"listSelectHandler",value:function(e,t){E.database().ref("movies").child(e).child("List").set(t)}},{key:"loadmore",value:function(){this.setState((function(e){return{visible:e.visible+8}}))}},{key:"render",value:function(){var e=this;return E.apps.length||E.initializeApp(g),r.a.createElement("div",null,r.a.createElement("select",{onChange:this.changeListHandler},this.state.list.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.searchHandler},r.a.createElement("input",{onChange:this.changeHandler,value:this.state.Title,type:"text",name:"Title"}),r.a.createElement("button",null,"Search"))),r.a.createElement("div",{class:"Movies"},this.state.items.slice(0,this.state.visible).map((function(t,a){return r.a.createElement("img",{src:t.Poster,key:t.Title,alt:"movie",onClick:e.openPopupbox.bind(e,t)})}))),r.a.createElement(y.PopupboxContainer,null),r.a.createElement("button",{onClick:this.loadmore},"loadmore"))}}]),a}(n.Component),O=a(32),k=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={imdbID:"",Director:"",Title:"",Poster:"",Rating:"",Actors:"",List:"All",items:[]},e.changeHandler=e.changeHandler.bind(Object(p.a)(e)),e.submissionHandler=e.submissionHandler.bind(Object(p.a)(e)),e}return Object(c.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"submissionHandler",value:function(e){var t=this;e.preventDefault();var a=O.database().ref("movies"),n="https://www.omdbapi.com/?apikey=a53d51fa&i="+this.state.movieID,r=f.a.get(n);f.a.all([r]).then(f.a.spread((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.orderByChild("movieID").equalTo(t.state.movieID).once("value",(function(e){if(e.exists())window.alert("Movie exists!");else{var r={movieID:t.state.movieID,Title:n[0].data.Title,Poster:n[0].data.Poster,Director:n[0].data.Director,Rating:n[0].data.imdbRating,Plot:n[0].data.Plot,Actors:n[0].data.Actors,List:t.state.List};console.log(r),a.child(t.state.movieID).set(r),window.alert("Movie added!")}}))})))}},{key:"render",value:function(){return O.apps.length||O.initializeApp(g),r.a.createElement("div",{className:"Messages"},r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Add a new movie!"))),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.submissionHandler},r.a.createElement("b",null,"Movie ID"),r.a.createElement("input",{onChange:this.changeHandler,value:this.state.movieID,name:"movieID"}),r.a.createElement("button",null,"Submit"))))}}]),a}(n.Component),H=a(32),D=a(214),x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).drag=function(e){return D.drag().on("start",(function(t){D.event.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=D.event.x,e.fy=D.event.y})).on("end",(function(t){D.event.active||e.alphaTarget(0),t.fx=null,t.fy=null}))},e.state={nodes2:[],links2:[],test:[]},e}return Object(c.a)(a,[{key:"chart",value:function(e,t){var a=t.map((function(e){return Object.create(e)})),n=e.map((function(e){return Object.create(e)})),r=D.create("svg").attr("viewBox",[0,0,1920,1080]),i=r.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),l=r.append("svg:defs"),o=D.forceSimulation(n).force("link",D.forceLink().links(t).id((function(e){return e.index})).distance(200)).force("charge",D.forceManyBody()).force("center",D.forceCenter(960,540)),c=r.append("g").attr("stroke","#999").attr("stroke-width",1.5).selectAll("circle").data(n).join("circle").attr("r",(function(e){return 1==e.group?20:60})).attr("fill",(function(e){return 1==e.group?D.color("green"):D.color("black")})).attr("fill",(function(e){return 2==e.group?(l.append("pattern").attr("id","id"+e.id).attr("patternUnits","objectBoundingBox").attr("width",1.2).attr("height",1.2).append("image").attr("xlink:href",e.Poster).attr("width",225).attr("height",225).attr("x",-40).attr("y",-20),"url(#id"+e.id+")"):D.color("green")})).on("mouseover",(function(e){1==e.group&&r.append("text").attr("stroke","black").text(e.name).attr("x",D.select(this).attr("cx")+10).attr("y",D.select(this).attr("cy")+10)})).on("mouseout",(function(e){1==e.group&&D.select("text").remove()})).call(this.drag(o));return o.on("tick",(function(){i.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),c.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})),r.node()}},{key:"componentDidMount",value:function(){var e=this,t=H.database().ref("movies"),a=document.getElementById("mysvg");t.on("value",(function(t){var n=t.val(),r=[],i=[],l=0,o=0,c=0;for(var s in n)if("GraphViz"==n[s].List){r.push({name:n[s].Title,id:l,group:2,Poster:n[s].Poster});for(var u=n[s].Actors.split(", "),d=0;d<u.length;d++)r.push({name:u[d],id:l,group:1,Poster:n[s].Poster});for(c=o,d=0;d<u.length;d++)o++,i.push({source:c,target:o,value:1});o++,l++}for(var m=0;m<r.length-1;m++)for(var v=m+1;v<r.length;v++)if(r[m].name==r[v].name){for(var h=0;h<i.length;h++)if(i[h].target==v){var p=i[h].source;i.splice(h,1);for(var b=h;b<i.length;b++){var f,g;if(1==i[b].value)f=i[b].target-1,i[b].target=f;if(i[b].source>v)g=i[b].source-1,i[b].source=g}i.push({source:p,target:m,value:2})}r.splice(v,1),v--}e.setState({nodes2:r,links2:i,test:[]},(function(){a.appendChild(this.chart(this.state.nodes2,this.state.links2))}))}))}},{key:"render",value:function(){return H.apps.length||H.initializeApp(g),r.a.createElement("div",{id:"mysvg"})}}]),a}(n.Component),w=(a(198),n.Component,a(32)),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={list:""},e.changeHandler=e.changeHandler.bind(Object(p.a)(e)),e.listSubmissionHandler=e.listSubmissionHandler.bind(Object(p.a)(e)),e}return Object(c.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"listSubmissionHandler",value:function(e){e.preventDefault();var t=w.database().ref("lists");window.alert("successful"),t.push(this.state.list)}},{key:"render",value:function(){return w.apps.length||w.initializeApp(g),r.a.createElement("div",{className:"Messages"},r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Create your List!"))),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.listSubmissionHandler},r.a.createElement("label",null,r.a.createElement("b",null,"List Name")),r.a.createElement("input",{onChange:this.changeHandler,value:this.state.list,type:"text",name:"list"}),r.a.createElement("button",null,"Submit"))))}}]),a}(n.Component),T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).addStyling=function(){if(e.props.tab.id==e.props.activeTab)return{backgroundColor:"pink"}},e}return Object(c.a)(a,[{key:"addHover",value:function(){this.setState({backgroundColor:"brown"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"tab",style:this.addStyling(),onClick:this.props.changeTab.bind(this,this.props.tab.id)},r.a.createElement("h2",null,this.props.tab.title))}}]),a}(n.Component),S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.props.tabs.map((function(t){return r.a.createElement(T,{tab:t,changeTab:e.props.changeTab,activeTab:e.props.activeTab})}))}}]),a}(n.Component),I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).displayContent=function(){var t=e.props.activeTab;return 1==t?r.a.createElement(v,null):2==t?r.a.createElement(C,null):3==t?r.a.createElement(k,null):4==t?r.a.createElement(j,null):5==t?r.a.createElement(x,null):void 0},e}return Object(c.a)(a,[{key:"render",value:function(){return this.displayContent()}}]),a}(n.Component),L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to my Website"))}}]),a}(n.Component),P=a(76),A=a.n(P),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={activeTab:1},e.changeTab=function(t){e.setState({activeTab:t}),document.title=1==t?"Home":2==t?"Create Lists":3==t?"Add Movies":4==t?"Movies":"Graph"},document.title="Home",e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{"background-color":"blanchedalmond",width:"100vh",height:"100vh",className:"body"},r.a.createElement("div",{className:"header"},r.a.createElement(L,null)),r.a.createElement("div",{className:"nav-bar"},r.a.createElement(S,{tabs:[{id:1,title:"Home"},{id:2,title:"Create Lists"},{id:3,title:"Add Movies"},{id:4,title:"Movies"},{id:5,title:"Graph"}],changeTab:this.changeTab,activeTab:this.state.activeTab})),r.a.createElement("div",{className:"main-body"},r.a.createElement(A.a,null),r.a.createElement(I,{"background-color":"blanchedalmond",activeTab:this.state.activeTab})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,a){e.exports=a.p+"static/media/JJY1.6b1589e9.jpeg"},77:function(e,t,a){e.exports=a(215)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.fe019931.chunk.js.map